name: Run dummy test on Testing Farm

on:
  push:
    branches: [ main ]
  pull_request:

jobs:
  tests:
    runs-on: ubuntu-latest

    permissions:
      contents: read
      pull-requests: write
      statuses: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Run dummy test on Testing Farm
        uses: sclorg/testing-farm-as-github-action@v4
        with:
          api_key: ${{ secrets.TESTING_FARM_API_TOKEN }}
          tmt_path: "tmt"
          tmt_plan_regex: "dummy"
          compose: "Fedora-latest"
          pull_request_status_name: "Dummy test"
          update_pull_request_status: "true"
          create_github_summary: "true"

